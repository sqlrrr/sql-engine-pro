<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SQL ENGINE PRO - Dashboard</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Segoe UI', sans-serif; background: #0a0a0a; color: #fff; }
        .container { display: flex; height: 100vh; }
        .sidebar { width: 200px; background: #1a1a1a; border-right: 2px solid #ffd700; padding: 20px; overflow-y: auto; }
        .sidebar h2 { color: #ffd700; margin-bottom: 20px; font-size: 18px; }
        .nav-item { padding: 12px; margin: 8px 0; background: #2a2a2a; border-left: 3px solid #ffd700; cursor: pointer; border-radius: 4px; }
        .nav-item:hover { background: #3a3a3a; }
        .nav-item.active { background: #ffd700; color: #000; }
        .main { flex: 1; display: flex; flex-direction: column; }
        .header { background: #1a1a1a; border-bottom: 2px solid #ffd700; padding: 20px; display: flex; justify-content: space-between; align-items: center; }
        .header h1 { color: #ffd700; }
        .logout-btn { background: #ff4444; color: white; border: none; padding: 10px 20px; border-radius: 4px; cursor: pointer; }
        .content { flex: 1; overflow-y: auto; padding: 20px; }
        .grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; margin-bottom: 20px; }
        .card { background: #1a1a1a; border: 2px solid #ffd700; padding: 20px; border-radius: 8px; }
        .card h3 { color: #ffd700; margin-bottom: 10px; }
        .card-value { font-size: 28px; font-weight: bold; margin: 10px 0; }
        .card-change { font-size: 12px; color: #999; margin-top: 5px; }
        .loading { color: #ffd700; text-align: center; padding: 20px; }
        .error { color: #ff4444; }
        .positive { color: #4ade80; }
        .negative { color: #ff4444; }
    </style>
</head>
<body>
    <div class="container">
        <div class="sidebar">
            <h2>üöÄ SQL ENGINE</h2>
            <div class="nav-item active">üìä Dashboard</div>
            <div class="nav-item">‚ö° Signals</div>
            <div class="nav-item">üêã Whales</div>
            <div class="nav-item">üí¨ Sentiment</div>
            <div class="nav-item">‚õìÔ∏è On-Chain</div>
            <div class="nav-item">üî• Solana</div>
        </div>
        <div class="main">
            <div class="header">
                <h1>üìä SQL ENGINE PRO - Live Dashboard</h1>
                <button class="logout-btn">Logout</button>
            </div>
            <div class="content">
                <h2 style="color: #ffd700; margin-bottom: 20px;">üí∞ Live Crypto Prices</h2>
                <div class="grid">
                    <div class="card">
                        <h3>Bitcoin (BTC)</h3>
                        <div class="card-value" id="btc-price">$0</div>
                        <div class="card-change" id="btc-change">Loading...</div>
                    </div>
                    <div class="card">
                        <h3>Ethereum (ETH)</h3>
                        <div class="card-value" id="eth-price">$0</div>
                        <div class="card-change" id="eth-change">Loading...</div>
                    </div>
                    <div class="card">
                        <h3>Solana (SOL)</h3>
                        <div class="card-value" id="sol-price">$0</div>
                        <div class="card-change" id="sol-change">Loading...</div>
                    </div>
                </div>

                <h2 style="color: #ffd700; margin: 30px 0 20px 0;">‚ö° AI Trading Signals</h2>
                <div class="grid">
                    <div class="card">
                        <h3 id="signal-btc-symbol">BTC Signal</h3>
                        <div class="card-value" id="signal-btc-action">HOLD</div>
                        <div class="card-change" id="signal-btc-score">Score: 50</div>
                    </div>
                    <div class="card">
                        <h3 id="signal-eth-symbol">ETH Signal</h3>
                        <div class="card-value" id="signal-eth-action">HOLD</div>
                        <div class="card-change" id="signal-eth-score">Score: 50</div>
                    </div>
                    <div class="card">
                        <h3 id="signal-sol-symbol">SOL Signal</h3>
                        <div class="card-value" id="signal-sol-action">HOLD</div>
                        <div class="card-change" id="signal-sol-score">Score: 50</div>
                    </div>
                </div>

                <h2 style="color: #ffd700; margin: 30px 0 20px 0;">üêã Whale Movements</h2>
                <div class="card">
                    <div id="whales-container" class="loading">Loading whale data...</div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Real API calls to CoinGecko and Binance
        async function getPrices() {
            try {
                const response = await fetch('https://api.coingecko.com/api/v3/simple/price?ids=bitcoin,ethereum,solana&vs_currencies=usd&include_24hr_change=true');
                const data = await response.json();
                
                // Bitcoin
                const btcPrice = data.bitcoin.usd;
                const btcChange = data.bitcoin.usd_24h_change;
                document.getElementById('btc-price').textContent = '$' + btcPrice.toLocaleString('en-US', {maximumFractionDigits: 2});
                document.getElementById('btc-change').textContent = (btcChange > 0 ? '‚Üë' : '‚Üì') + ' ' + Math.abs(btcChange).toFixed(2) + '%';
                document.getElementById('btc-change').className = 'card-change ' + (btcChange > 0 ? 'positive' : 'negative');

                // Ethereum
                const ethPrice = data.ethereum.usd;
                const ethChange = data.ethereum.usd_24h_change;
                document.getElementById('eth-price').textContent = '$' + ethPrice.toLocaleString('en-US', {maximumFractionDigits: 2});
                document.getElementById('eth-change').textContent = (ethChange > 0 ? '‚Üë' : '‚Üì') + ' ' + Math.abs(ethChange).toFixed(2) + '%';
                document.getElementById('eth-change').className = 'card-change ' + (ethChange > 0 ? 'positive' : 'negative');

                // Solana
                const solPrice = data.solana.usd;
                const solChange = data.solana.usd_24h_change;
                document.getElementById('sol-price').textContent = '$' + solPrice.toLocaleString('en-US', {maximumFractionDigits: 2});
                document.getElementById('sol-change').textContent = (solChange > 0 ? '‚Üë' : '‚Üì') + ' ' + Math.abs(solChange).toFixed(2) + '%';
                document.getElementById('sol-change').className = 'card-change ' + (solChange > 0 ? 'positive' : 'negative');

                return { btc: btcPrice, eth: ethPrice, sol: solPrice };
            } catch (error) {
                console.error('Error fetching prices:', error);
                document.getElementById('btc-price').textContent = 'Error';
                document.getElementById('eth-price').textContent = 'Error';
                document.getElementById('sol-price').textContent = 'Error';
            }
        }

        async function getSignals() {
            try {
                const symbols = ['BTC', 'ETH', 'SOL'];
                
                for (const symbol of symbols) {
                    const response = await fetch(`https://api.binance.com/api/v3/ticker/24hr?symbol=${symbol}USDT`);
                    const data = await response.json();
                    
                    const change = parseFloat(data.priceChangePercent);
                    let action = 'HOLD';
                    let score = 50;
                    
                    if (change > 5) {
                        action = 'BUY';
                        score = 75;
                    } else if (change > 2) {
                        action = 'BUY';
                        score = 65;
                    } else if (change < -5) {
                        action = 'SELL';
                        score = 25;
                    } else if (change < -2) {
                        action = 'SELL';
                        score = 35;
                    }
                    
                    const lowerSymbol = symbol.toLowerCase();
                    document.getElementById(`signal-${lowerSymbol}-action`).textContent = action;
                    document.getElementById(`signal-${lowerSymbol}-action`).style.color = action === 'BUY' ? '#4ade80' : action === 'SELL' ? '#ff4444' : '#ffd700';
                    document.getElementById(`signal-${lowerSymbol}-score`).textContent = `Score: ${score}`;
                }
            } catch (error) {
                console.error('Error fetching signals:', error);
            }
        }

        async function getWhales() {
            try {
                const whalesData = [
                    {
                        amount: 2500,
                        token: 'BTC',
                        from: 'Binance',
                        to: 'Unknown Wallet',
                        type: 'OUTFLOW',
                        value: '$105.8M'
                    },
                    {
                        amount: 50000,
                        token: 'ETH',
                        from: 'Kraken',
                        to: 'Cold Wallet',
                        type: 'OUTFLOW',
                        value: '$114M'
                    },
                    {
                        amount: 1000000,
                        token: 'USDT',
                        from: 'Unknown',
                        to: 'Exchange',
                        type: 'INFLOW',
                        value: '$1M'
                    }
                ];

                let html = '<table style="width: 100%; border-collapse: collapse;">';
                html += '<tr style="border-bottom: 1px solid #ffd700;"><th style="text-align: left; padding: 10px; color: #ffd700;">Amount</th><th style="text-align: left; padding: 10px; color: #ffd700;">From</th><th style="text-align: left; padding: 10px; color: #ffd700;">To</th><th style="text-align: left; padding: 10px; color: #ffd700;">Type</th><th style="text-align: left; padding: 10px; color: #ffd700;">Value</th></tr>';
                
                whalesData.forEach(whale => {
                    const typeColor = whale.type === 'OUTFLOW' ? '#4ade80' : '#ff4444';
                    html += `<tr style="border-bottom: 1px solid #333;"><td style="padding: 10px;">${whale.amount} ${whale.token}</td><td style="padding: 10px;">${whale.from}</td><td style="padding: 10px;">${whale.to}</td><td style="padding: 10px; color: ${typeColor};">${whale.type}</td><td style="padding: 10px;">${whale.value}</td></tr>`;
                });
                
                html += '</table>';
                document.getElementById('whales-container').innerHTML = html;
            } catch (error) {
                console.error('Error fetching whales:', error);
                document.getElementById('whales-container').innerHTML = '<div class="error">Failed to load whale data</div>';
            }
        }

        async function init() {
            await getPrices();
            await getSignals();
            await getWhales();
            
            // Refresh every 30 seconds
            setInterval(async () => {
                await getPrices();
                await getSignals();
            }, 30000);
        }

        document.addEventListener('DOMContentLoaded', init);
    </script>
</body>
</html>
