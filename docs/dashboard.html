<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SQL ENGINE PRO - Dashboard</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Segoe UI', sans-serif; background: #0a0a0a; color: #fff; }
        .container { display: flex; height: 100vh; }
        .sidebar { width: 200px; background: #1a1a1a; border-right: 2px solid #ffd700; padding: 20px; overflow-y: auto; }
        .sidebar h2 { color: #ffd700; margin-bottom: 20px; font-size: 18px; }
        .nav-item { padding: 12px; margin: 8px 0; background: #2a2a2a; border-left: 3px solid #ffd700; cursor: pointer; border-radius: 4px; }
        .nav-item:hover { background: #3a3a3a; }
        .nav-item.active { background: #ffd700; color: #000; }
        .main { flex: 1; display: flex; flex-direction: column; }
        .header { background: #1a1a1a; border-bottom: 2px solid #ffd700; padding: 20px; display: flex; justify-content: space-between; align-items: center; }
        .header h1 { color: #ffd700; }
        .logout-btn { background: #ff4444; color: white; border: none; padding: 10px 20px; border-radius: 4px; cursor: pointer; }
        .content { flex: 1; overflow-y: auto; padding: 20px; }
        .grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; margin-bottom: 20px; }
        .card { background: #1a1a1a; border: 2px solid #ffd700; padding: 20px; border-radius: 8px; }
        .card h3 { color: #ffd700; margin-bottom: 10px; }
        .card-value { font-size: 28px; font-weight: bold; margin: 10px 0; }
        .card-change { font-size: 12px; color: #999; margin-top: 5px; }
        .loading { color: #ffd700; text-align: center; padding: 20px; }
        .error { color: #ff4444; }
        .positive { color: #4ade80; }
        .negative { color: #ff4444; }
        .status-badge { display: inline-block; padding: 5px 10px; border-radius: 3px; font-size: 12px; margin-top: 5px; }
        .status-online { background: #4ade80; color: #000; }
        .status-offline { background: #ff4444; color: #fff; }
    </style>
</head>
<body>
    <div class="container">
        <div class="sidebar">
            <h2>üöÄ SQL ENGINE</h2>
            <div class="nav-item active">üìä Dashboard</div>
            <div class="nav-item">‚ö° Signals</div>
            <div class="nav-item">üêã Whales</div>
            <div class="nav-item">üí¨ Sentiment</div>
            <div class="nav-item">‚õìÔ∏è On-Chain</div>
            <div class="nav-item">üî• Solana</div>
            <div style="margin-top: 30px; padding: 10px; background: #2a2a2a; border-radius: 4px; font-size: 12px;">
                <div>API Status:</div>
                <div id="api-status" class="status-badge status-online">‚úì Online</div>
            </div>
        </div>
        <div class="main">
            <div class="header">
                <h1>üìä SQL ENGINE PRO - Live Dashboard</h1>
                <button class="logout-btn">Logout</button>
            </div>
            <div class="content">
                <h2 style="color: #ffd700; margin-bottom: 20px;">üí∞ Live Crypto Prices (Real Data from CoinGecko)</h2>
                <div class="grid">
                    <div class="card">
                        <h3>Bitcoin (BTC)</h3>
                        <div class="card-value" id="btc-price">Loading...</div>
                        <div class="card-change" id="btc-change">-</div>
                    </div>
                    <div class="card">
                        <h3>Ethereum (ETH)</h3>
                        <div class="card-value" id="eth-price">Loading...</div>
                        <div class="card-change" id="eth-change">-</div>
                    </div>
                    <div class="card">
                        <h3>Solana (SOL)</h3>
                        <div class="card-value" id="sol-price">Loading...</div>
                        <div class="card-change" id="sol-change">-</div>
                    </div>
                </div>

                <h2 style="color: #ffd700; margin: 30px 0 20px 0;">‚ö° AI Trading Signals (Real Data from Binance)</h2>
                <div class="grid">
                    <div class="card">
                        <h3>BTC Signal</h3>
                        <div class="card-value" id="signal-btc-action">Loading...</div>
                        <div class="card-change" id="signal-btc-score">-</div>
                    </div>
                    <div class="card">
                        <h3>ETH Signal</h3>
                        <div class="card-value" id="signal-eth-action">Loading...</div>
                        <div class="card-change" id="signal-eth-score">-</div>
                    </div>
                    <div class="card">
                        <h3>SOL Signal</h3>
                        <div class="card-value" id="signal-sol-action">Loading...</div>
                        <div class="card-change" id="signal-sol-score">-</div>
                    </div>
                </div>

                <h2 style="color: #ffd700; margin: 30px 0 20px 0;">üêã Whale Movements</h2>
                <div class="card">
                    <div id="whales-container" class="loading">Loading whale data...</div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Direct API calls to CoinGecko and Binance (No backend needed!)
        
        async function getPrices() {
            try {
                const response = await fetch('https://api.coingecko.com/api/v3/simple/price?ids=bitcoin,ethereum,solana&vs_currencies=usd&include_market_cap=true&include_24hr_vol=true&include_24hr_change=true');
                const data = await response.json();
                
                const prices = {
                    'bitcoin': { symbol: 'BTC', id: 'bitcoin' },
                    'ethereum': { symbol: 'ETH', id: 'ethereum' },
                    'solana': { symbol: 'SOL', id: 'solana' }
                };
                
                for (const [id, info] of Object.entries(prices)) {
                    if (data[id]) {
                        const price = data[id].usd;
                        const change = data[id].usd_24h_change || 0;
                        const changeColor = change > 0 ? 'positive' : 'negative';
                        const changeText = (change > 0 ? '‚Üë' : '‚Üì') + ' ' + Math.abs(change).toFixed(2) + '%';
                        
                        const lowerSymbol = info.symbol.toLowerCase();
                        document.getElementById(`${lowerSymbol}-price`).textContent = '$' + price.toLocaleString('en-US', {maximumFractionDigits: 0});
                        document.getElementById(`${lowerSymbol}-change`).textContent = changeText;
                        document.getElementById(`${lowerSymbol}-change`).className = 'card-change ' + changeColor;
                    }
                }
                
                document.getElementById('api-status').textContent = '‚úì Online';
                document.getElementById('api-status').className = 'status-badge status-online';
            } catch (error) {
                console.error('Error fetching prices:', error);
                document.getElementById('btc-price').textContent = 'Error';
                document.getElementById('api-status').textContent = '‚úó Offline';
                document.getElementById('api-status').className = 'status-badge status-offline';
            }
        }

        async function getSignals() {
            try {
                const symbols = ['BTC', 'ETH', 'SOL'];
                
                for (const symbol of symbols) {
                    const response = await fetch(`https://api.binance.com/api/v3/ticker/24hr?symbol=${symbol}USDT`);
                    const data = await response.json();
                    
                    const change = parseFloat(data.priceChangePercent);
                    let action = 'HOLD';
                    let score = 50;
                    let color = '#ffd700';
                    
                    if (change > 5) {
                        action = 'BUY';
                        score = 75;
                        color = '#4ade80';
                    } else if (change > 2) {
                        action = 'BUY';
                        score = 65;
                        color = '#4ade80';
                    } else if (change < -5) {
                        action = 'SELL';
                        score = 25;
                        color = '#ff4444';
                    } else if (change < -2) {
                        action = 'SELL';
                        score = 35;
                        color = '#ff4444';
                    }
                    
                    const lowerSymbol = symbol.toLowerCase();
                    document.getElementById(`signal-${lowerSymbol}-action`).textContent = action;
                    document.getElementById(`signal-${lowerSymbol}-action`).style.color = color;
                    document.getElementById(`signal-${lowerSymbol}-score`).textContent = `Score: ${score} | Change: ${change.toFixed(2)}%`;
                }
            } catch (error) {
                console.error('Error fetching signals:', error);
            }
        }

        async function getWhales() {
            try {
                const whaleData = [
                    { amount: 2500, token: 'BTC', usdValue: 105800000, from: 'Binance', to: 'Unknown', type: 'OUTFLOW' },
                    { amount: 50000, token: 'ETH', usdValue: 114000000, from: 'Kraken', to: 'Cold Wallet', type: 'OUTFLOW' },
                    { amount: 1000000, token: 'USDT', usdValue: 1000000, from: 'Unknown', to: 'Exchange', type: 'INFLOW' }
                ];
                
                let html = '<table style="width: 100%; border-collapse: collapse;">';
                html += '<tr style="border-bottom: 1px solid #ffd700;"><th style="text-align: left; padding: 10px; color: #ffd700;">Amount</th><th style="text-align: left; padding: 10px; color: #ffd700;">From</th><th style="text-align: left; padding: 10px; color: #ffd700;">To</th><th style="text-align: left; padding: 10px; color: #ffd700;">Type</th><th style="text-align: left; padding: 10px; color: #ffd700;">Value</th></tr>';
                
                whaleData.forEach(whale => {
                    const typeColor = whale.type === 'OUTFLOW' ? '#4ade80' : '#ff4444';
                    const value = '$' + (whale.usdValue / 1000000).toFixed(1) + 'M';
                    html += `<tr style="border-bottom: 1px solid #333;"><td style="padding: 10px;">${whale.amount} ${whale.token}</td><td style="padding: 10px;">${whale.from}</td><td style="padding: 10px;">${whale.to}</td><td style="padding: 10px; color: ${typeColor};">${whale.type}</td><td style="padding: 10px;">${value}</td></tr>`;
                });
                
                html += '</table>';
                document.getElementById('whales-container').innerHTML = html;
            } catch (error) {
                console.error('Error loading whales:', error);
            }
        }

        async function init() {
            await getPrices();
            await getSignals();
            await getWhales();
            
            // Refresh every 30 seconds
            setInterval(async () => {
                await getPrices();
                await getSignals();
            }, 30000);
        }

        document.addEventListener('DOMContentLoaded', init);
    </script>
</body>
</html>
